@startuml Models
left to right direction
entity Subject{
    id : INTEGER
    ..
    name : STRING
    teacher_id : INTEGER
    classes_id : INTEGER
    chapter_id : INTEGER
}


entity Chapter{
    id : INTEGER
    ..
    name : STRING
    subject_id : INTEGER
    examPaper_id : INTEGER
    question_id : INTEGER
}


entity ExamPaper{
    id : INTEGER
    --
    name : STRING
    tag : STRING
    chapter_id : INTEGER
    question_id : INTEGER
    grade_id : INTEGER
    classes_id : INTEGER
}


entity Question{
    id : INTEGER
    ..
    questionText : STRING
    difficulty : FLOAT
    type : STRING
    examPaper_id : INTEGER
    chapter_id : INTEGER
}

entity MutipleChoice{
    id : INTEGER
    ..
    choice1 : STRING
    choice2 : STRING
    choice3 : STRING
    choice4 : STRING
    answer : STRING
    questionId : INTEGER
}

entity FillInTheBlanks{
    id : INTEGER
    ..
    answer : STRING
    questionId : INTEGER
}


entity Role{
    id : INTEGER
    ..
    name : STRING
    user_id : INTEGER
    permission_id : INTEGER
}


entity Permission{
    id : INTEGER
    ..
    name : STRING
    role_id : INTEGER
}


entity UserInfo{
    id : INTEGER
    ..
    username : STRING
    password : STRING
    role_id : INTEGER
    teacher_id : INTEGER
    student_id : INTEGER

}

entity Teacher{
    id : INTEGER
    ..
    username : STRING
    password : STRING
}


entity Classes{
    id : INTEGER
    ..
    classes_id : INTEGER
    terms : STRING
    studentCount : INTEGER
    subject_id : INTEGER
    teacher_id : INTEGER
    student_grade_id : INTEGER
    student_id : INTEGER
    examPaper_id : INTEGER
}


entity Student{
    id : INTEGER
    ..
    student_id : INTEGER
    user_id : INTEGER
    grade : INTEGER
    classes_id : INTEGER
}


entity StudentGrade{
    id : INTEGER
    --
    student_id : INTEGER
    classes_id : INTEGER
    examPaper_id : INTEGER
    grade : INTEGER
    student_id : INTEGER
    examPaper_id : INTEGER
}


entity AnswerRecord{
    id : INTEGER
    --
    choice1Count : INTEGER
    choice2Count : INTEGER
    choice3Count : INTEGER
    choice4Count : INTEGER

}


Role "m" ||--|{ "n" Permission: 角色-权限
Role "1" ||-|{ "n" UserInfo: 角色-用户
UserInfo "1" ||--|{ "1" Teacher: 用户-老师
UserInfo "1" ||-|{ "1" Student: 用户-学生
Teacher "1" ||-|{ "n" Classes: 老师-班级
Classes "m" }|--|{ "n" Student: 班级-学生
Student "n" }|--|{ "1" StudentGrade: 学生-试卷分数
Classes "n" }|--|{ "1" StudentGrade: 班级-试卷分数
ExamPaper "n" }|--|{ "1" StudentGrade: 试卷-试卷分数
Teacher "m" }|--|{ "n" Subject: 老师-学科
Subject "1" ||--|{ "n" Chapter: 学科-章节
Subject "1" ||-|| "1" Classes: 学科-班级
Chapter "1" ||--|{ "n" Question: 章节-题目
Question "1" ||--|| "1" MutipleChoice: 问题-选择题
Question "1" ||--|| "1" FillInTheBlanks: 问题-填空题
ExamPaper "m" }|--|{ "n" Question: 试卷-题目
@enduml
